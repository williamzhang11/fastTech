# 二叉排序树与平衡二叉树

## 二叉排序树
	也叫二叉查找树，二叉搜索树 BST（binary search/sort tree）
	具有下列性质的二叉树
	1.若它的左子树不空，则左子树上所有的节点值都小于它根节点的值
	2.若它的右子树不空，则右子树上所有节点值均大于它的根节点的值
	3.它的左右子树也分别为二叉排序树
![image](https://github.com/williamzhang11/fastTech/blob/master/src/main/java/com/xiu/fastTech/binarysorttree/image/binarysorttree.png)

对二叉查找树进行中序遍历，可以得到有序集合

## 二叉排序树性能分析
	二叉排序树可能退化成链表，查找操作与树的高度相关如果退化成链表，查找，删除，插入，效率变为O(n)
	查找，删除，插入最好的时间复杂度O(logn),最坏的时间复杂度O(n),因此是不稳定的，通过一定的算法可以通过不平衡树变成平衡树，因此AVL树出现了
	
## 平衡二叉树
	也叫AVL树，是自平衡的二叉查找树
	平衡因子（平衡度）：节点的平衡因子是节点的左子树高度减去右子树高度的值。
	定义：平衡二叉树是，每个节点的平衡因子绝对值不超过1，（即为1，0，-1）的二叉排序树
	平衡二叉树的目的是为了减少二叉排序树的层次，提高查找速度，因为二叉排序树在极端情况下会退化为链表。
	
	插入，删除节点操作可能会导致平衡二叉树失去平衡，可以通过旋转操作重新达到平衡。分为左旋，右旋，左右旋，右左旋。
	
![image](https://github.com/williamzhang11/fastTech/blob/master/src/main/java/com/xiu/fastTech/binarysorttree/image/avl.png)
	
## 平衡二叉树性能
	查找：查找效率非常好，比较稳定，O(logN)数量级
	插入：平衡二叉树，必须要保持平衡，每一次插入，如果使得平衡二叉树中的平衡因子超过1，就必须旋转操作。大多数只需要旋转一次（单旋转或双旋转），效率还是非常高的
		插入节点需要先查找到插入位置，因此时间复杂度:O(logN)
	删除：删除后必须检查从删除节点开始到根节点路径上所有节点的平衡因子，每次删除最多需要O(logN)次旋转。因此删除操作时间复杂度O(logN)+O(logN) = O(2logN)

## 红黑树（RBT）
	红黑树（Red-Black Tree）,它是近似平衡的二叉排序树。红黑书上每个节点有存储位代表节点的颜色，红或者黑
	
## 红黑树特性：
	1.每个节点或者黑色，或者红色
	2.根节点是黑色
	3.每个叶子节点（NIL）是黑色
	4.如果一个节点是红色，那它的子节点必须是黑色的
	5.从一个节点到该节点的子孙节点的所有路径上包含相同数目的黑节点
	
	红黑树的叶子节点是为空（NIL或者null）
	特性5保证了，没有一条路径比其他路径长2倍。
	
![image](https://github.com/williamzhang11/fastTech/blob/master/src/main/java/com/xiu/fastTech/binarysorttree/image/redblacktree.jpg)
	
	红黑树不是严格符合平衡二叉树的条件，但是提出为节点增加颜色，用非严格的平衡换取增删节点时旋转次数的降低。任何不平衡都会在3次内解决。而AVL是严格的平衡树，增加或
	删除节点时，旋转的次数比红黑树要多，因此红黑树的插入，删除效率更高。
	
## 红黑树性能

	1.查找：
	由于红黑树最长路径长度不超过最短路径的2倍，说明它并不是严格的平衡二叉树（AVL），但平衡性比二叉排序树（BST）要好	
	查找时间复杂度在O(logN)左右,最差情况（最长路径比最短路径的2倍少1），比AVL差一点
	2.插入：
	红黑树插入节点时，需要选择操作和变色操作，但只需要保证基本平衡就好了，因此插入节点最多需要2次旋转，虽然变色操作需要O(logN)，但代价也是非常小的
	3.删除：
	红黑树删除操作比AVL好很多，删除一个节点最多需要旋转3次，变色操作时间复杂度O(logN)。
	
	
	红黑树是牺牲了严格的平衡性，以O(logn)的时间复杂度进行搜索，插入，删除，操作。它的设计，任何不平衡都会在3次选择内解决
	
	参考：https://blog.csdn.net/mmshixing/article/details/51692892
	https://blog.csdn.net/z702143700/article/details/49079107
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	